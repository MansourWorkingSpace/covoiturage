<div class="page-container">
  <table>
    <thead>
      <tr>
        <th colspan="3">Toutes les annonces</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let user of users">
        <ng-container *ngIf="user.annonces?.length > 0">
          <tr *ngFor="let annonce of user.annonces">
            <td>
              <div class="annonce-card">
                <!-- Profil Section -->
                <div class="profil-section">
                  <img
                    src="/assets/profil.png"
                    alt="Photo de profil"
                    class="profile-picture"
                  />
                  <p class="name">{{ user.username }}</p>
                </div>

                <!-- Details Section -->
                <div class="details-section">
                  <h3>{{ annonce.lieuDepart }} - {{ annonce.lieuArrivee }}</h3>
                  <p>
                    <i class="fas fa-map-marker-alt"></i>
                    <b>{{ annonce.lieuDepart }}</b> → <b>{{ annonce.lieuArrivee }}</b>
                  </p>
                  <p>
                    <b>Départ :</b> {{ annonce.dateDepart }} à {{ annonce.heureDepart }}<br />
                    <b>Arrivée :</b> {{ annonce.dateArrivee }} à {{ annonce.heureArrivee }}
                  </p>
                  <p *ngIf="annonce.allerRetour"><b>Aller-Retour</b></p>
                  <p *ngIf="annonce.animauxAutorises"><b>Animaux Autorisés</b></p>
                </div>

                <!-- Price Section -->
                <div class="price-section">
                  <span class="price">{{ annonce.prixParPlace }} Dinars</span>
                  <button class="participer-btn">Participer</button>
                </div>
              </div>
            </td>
          </tr>
        </ng-container>
      </ng-container>
    </tbody>
  </table>
</div>
